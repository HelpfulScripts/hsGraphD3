var hsGraphD3=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);e.timeout=n.timeout,e.delay=n.delay;var r=i(1);e.Pace=r.Pace;var o=i(1);e.promiseChain=o.promiseChain;var s=i(7);e.shortCheckSum=s.shortCheckSum;var a=i(3);e.date=a.date,e.ms=a.ms;var l=i(8);e.round=l.round;var c=i(9);e.log=c.log},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){t.done?r(t.value):new i(function(e){e(t.value)}).then(s,a)}l((n=n.apply(t,e||[])).next())})};function r(t){return e=>new Promise(i=>{setTimeout(()=>{i(e)},t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=function(t){return new Promise((e,i)=>{setTimeout(i,t)})},e.delay=r,e.Pace=class{constructor(t=100,e=-1){this.maxConcurrent=-1,this.waitUntil=0,this.waitCount=0,this.beingCalled=0,this.pace=t+5,this.maxConcurrent=e}getWaitCount(){return this.waitCount}getCallingCount(){return this.beingCalled}add(t){return n(this,void 0,void 0,function*(){const e=Date.now();this.waitUntil<e&&(this.waitUntil=e);const i=this.waitUntil-e;this.waitUntil+=this.pace+5,this.waitCount++,yield r(i)(),yield new Promise(t=>{const e=()=>{this.maxConcurrent<0||this.beingCalled<this.maxConcurrent?t():setTimeout(e,10)};e()}),this.waitCount--,this.beingCalled++;const n=yield t(Date.now()-e);return this.beingCalled--,n})}},e.promiseChain=function(t,e=[]){return t.reduce((t,e)=>t.then(t=>Promise.resolve(e(t)).then(e=>(t.push(e),t))),Promise.resolve(e))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(0).log("d3.GraphComponent");const n=i(11);e.GraphComponent=class{constructor(t){this.config=t||{root:void 0,baseSVG:void 0,client:{x:0,y:0,width:0,height:0},viewPort:{width:1e3,height:700},defaults:void 0,scales:{hor:{dataCol:void 0,scale:void 0},ver:{dataCol:void 0,scale:void 0}}},this.config.defaults=new n.Defaults(this.config)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=[["Jan","January"],["Feb","February"],["Mar","March"],["Apr","April"],["May","May"],["Jun","June"],["Jul","July"],["Aug","August"],["Sep","September"],["Oct","October"],["Nov","November"],["Dec","December"]],r=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]];function o(t,e){for(var i=""+t;i.length<e;)i="0"+i;return i}e.date=function(t,e=new Date){return"string"!=typeof t||isNaN(e.getTime())?"invalid":t.replace(/%YYYY/g,""+e.getFullYear()).replace(/%YY/g,""+e.getFullYear()%100).replace(/%MMMM/g,n[e.getMonth()][1]).replace(/%MMM/g,n[e.getMonth()][0]).replace(/%MM/g,o(e.getMonth()+1,2)).replace(/%M/g,""+(e.getMonth()+1)).replace(/%DDDD/g,r[e.getDay()][1]).replace(/%DDD/g,r[e.getDay()][0]).replace(/%DD/g,o(e.getDate(),2)).replace(/%D/g,""+e.getDate()).replace(/%hh/g,o(e.getHours(),2)).replace(/%h/g,""+e.getHours()).replace(/%mm/g,o(e.getMinutes(),2)).replace(/%m/g,""+e.getMinutes()).replace(/%ss/g,o(e.getSeconds(),2)).replace(/%jjj/g,o(e.getMilliseconds(),3)).replace(/%jj/g,o(e.getMilliseconds()/10,2)).replace(/%j/g,o(e.getMilliseconds()/100,1))},e.ms={fromMinutes:t=>6e4*t,fromHours:t=>36e5*t,fromDays:t=>864e5*t,fromWeeks:t=>6048e5*t,toMinutes:t=>t/6e4,toHours:t=>t/36e5,toDays:t=>t/864e5,toWeeks:t=>t/6048e5}},function(t,e){t.exports=d3},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6);e.Graph=n.Graph},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0).log("d3.Graph"),r=i(4),o=i(10),s=i(13),a=i(2);function l(t){t.baseSVG.attr("viewBox",`0 0 ${t.viewPort.width} ${t.viewPort.height}`)}n.info("Graph3D"),e.Graph=class extends a.GraphComponent{constructor(t){super(),this.axes=[],this.cumulativeDomains={},this.config.root=t,n.info("creating Graph"),function(t){const e=r.select(t.root);e.selectAll("div").remove(),e.selectAll("svg").remove();const i=e.append("svg").classed("baseSVG",!0).attr("height","100%").attr("width","100%").attr("preserveAspectRatio","xMinYMin meet");t.baseSVG=i,i.append("rect").classed("baseRect",!0).attr("x",0).attr("y",0)}(this.config),l(this.config),this.plot=new o.Plot(this.config),this.axes.push(new s.Axis(this.config,s.Direction.Horizontal)),this.axes.push(new s.Axis(this.config,s.Direction.Vertical)),window.onresize=()=>this.resize()}get defaults(){return this.config.defaults}resize(){const t=this.config;t.root.clientWidth>0&&(t.root.clientWidth===t.client.width&&t.root.clientHeight===t.client.height||(n.info(`resizing svg: [${t.client.width} x ${t.client.height}] -> [${t.root.clientWidth} x ${t.root.clientHeight}]`),t.client.width=t.root.clientWidth,t.client.height=t.root.clientHeight,t.viewPort.height=t.viewPort.width*t.root.clientHeight/t.root.clientWidth,l(t)))}render(t){this.setScales(t),this.drawCanvas(this.config),this.plot.setBorders(10,10,10,10),this.plot.render(t),this.axes.forEach(e=>e.render(t))}addSeries(t,e,i,...n){this.resize(),this.config.scales.hor.dataCol=e,this.config.scales.ver.dataCol=i,this.plot.addSeries(t,e,i,...n)}drawCanvas(t){const e=t.defaults.Graph.canvas;r.select(".baseRect").attr("width",t.viewPort.width).attr("height",t.viewPort.height).attr("rx",e.rx).attr("ry",e.ry).attr("stroke",e.stroke.color).attr("stroke-width",e.stroke.width).attr("stroke-opacity",e.stroke.opacity).attr("fill",e.fill.color).attr("fill-opacity",e.fill.opacity)}setScales(t){function e(e,i){e[i]=e[i]||[1e90,-1e90];const n=t.findDomain(i);return e[i][0]=Math.min(e[i][0],n[0]),e[i][1]=Math.max(e[i][1],n[1]),e[i]}const i=this.config.scales.hor,n=this.config.scales.ver;i.scale=r.scaleLinear().domain(e(this.cumulativeDomains,i.dataCol)).range([10,this.config.viewPort.width-20]),n.scale=r.scaleLinear().domain(e(this.cumulativeDomains,n.dataCol)).range([this.config.viewPort.height-20,10])}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shortCheckSum=function(t){for(var e=305419896,i=t.length,n=0;n<i;n++)e+=t.charCodeAt(n)*(n+1);return(4294967295&e).toString(16)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.round=function(t,e=0){const i=Math.pow(10,e);return""+Math.round(t*i)/i}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){t.done?r(t.value):new i(function(e){e(t.value)}).then(s,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const r=i(3),o=Symbol("DEBUG"),s=Symbol("INFO"),a=Symbol("WARN"),l=Symbol("ERROR");let c;const u={[o]:{importance:0,sym:o,desc:"DEBUG"},[s]:{importance:1,sym:s,desc:"INFO"},[a]:{importance:2,sym:a,desc:"WARN"},[l]:{importance:3,sym:l,desc:"ERROR"}};let d=u[s];const f="%YYYY%MM%DD %hh:%mm:%ss.%jjj";let h=f,g=!1;const p={red:"[31m",yellow:"[33m",blue:"[36m",green:"[32m",bold:"[1m",clear:"[0m"};e.log=function t(e,i,m){const v={level:void 0,prefix:e,logToFile:i,pathExists:m};function y(t,e=!1){let i=u[t]||d,n=v.level||d;if(void 0===t)i=n;else if(null===t)v.level=void 0;else if(u[t]){e?d=i:v.level=i;const t=`new ${e?"global":v.prefix} log level ${i.desc.toUpperCase()} (was ${n.desc.toUpperCase()})`;k(i.sym===n.sym?o:s,t)}else k(l,`unkown level ${t.toString()}; log level remains ${n.sym.toString()}`);return i.sym}function b(t,e=!0){return n(this,void 0,void 0,function*(){return yield k(s,t,e)})}function w(t,e=!0){return n(this,void 0,void 0,function*(){return yield k(a,t,e)})}function x(t,e=!0){return n(this,void 0,void 0,function*(){return yield k(l,t,e)})}function M(t){return null===t?h=f:t&&(h=t),h}function k(t,e,i=!0){return n(this,void 0,void 0,function*(){const n={[l]:p.red+p.bold,[a]:p.yellow+p.bold,[o]:p.blue,[s]:p.green};let f=u[t];const m=v.level||d;if(f.importance>=m.importance){const o=r.date(h);let s="string"==typeof e?e:P(e,0);const a=`${o} ${v.prefix} ${f.desc} ${s}`,l=`${n[t]||""} ${o} ${v.prefix} ${f.desc} ${p.clear} ${s}`;if(console.log(g?l:a),e&&e.stack&&console.log(e.stack),c&&i)return yield v.logToFile(r.date(c),a)}})}function P(t,e=1,i=""){return null===e&&(e=999),null===t?"null":void 0===t?"undefined":"function"==typeof t?"function":"string"==typeof t?`'${t}'`:"object"==typeof t?e<0?void 0===t.length?"{...}":"[...]":void 0!==t.length?`[${t.map(t=>void 0===t?"":P(t,e-1,i)).join(", ")}]`:"{\n"+Object.keys(t).map(n=>`   ${i}${n}: ${P(t[n],e-1,i+"   ")}`).join(",\n")+`\n${i}}`:t.toString()}const $=function(e,i=v.logToFile,n=v.pathExists){return t(e,i,n)};return $.DEBUG=o,$.INFO=s,$.WARN=a,$.ERROR=l,$.level=y,$.debug=function(t,e=!0){return n(this,void 0,void 0,function*(){return yield k(o,t,e)})},$.info=b,$.warn=w,$.error=x,$.format=M,$.prefix=function(t){return t&&(v.prefix=t),v.prefix},$.out=k,$.logFile=function(t){return n(this,void 0,void 0,function*(){return null===t?(c=void 0,yield b("disabling logfile")):void 0===t?r.date(c):t.indexOf("/")>=0?yield v.pathExists(t).then(e=>n(this,void 0,void 0,function*(){return e?(c=t,yield b("now logging to file "+r.date(t))):(c=void 0,yield w(`path '${t}' doesn't exists; logfile disabled`))})).catch(()=>n(this,void 0,void 0,function*(){return c=void 0,yield x(`checking path ${t}; logfile disabled`)})):(""===t&&(t="log-%YYYY-%MM-%DD.txt"),yield b((c=t)?`now logging to file ${r.date(c)}`:"logfile disbaled"))})},$.config=function(t){void 0!==t.colors&&(g=t.colors),void 0!==t.format&&M(t.format),void 0!==t.level&&y(t.level)},$.inspect=P,$}("",(t,e)=>Promise.resolve(void 0),t=>Promise.resolve(!(t.indexOf("/")>=0)))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0).log("d3.Plot"),r=i(2),o=i(12);class s extends r.GraphComponent{constructor(t){super(t),this.series=[],this.desc={cfg:t,margin:{left:0,top:0,right:0,bottom:0},plotBase:t.baseSVG.append("svg").classed("plotSVG",!0)},this.desc.margin,this.desc.plotBase.append("rect").classed("plotRect",!0),s.register("bubble",o.bubble)}static register(t,e){this.plotFnMap[t]=e,n.info(`registered plot type '${t}'`)}setBorders(t,e,i,n){const r=this.desc.margin;r.left=t,r.right=i,r.top=e,r.bottom=n}addSeries(t,...e){const i=s.plotFnMap[t],r=`${t} ${e.join(" ")}`;this.series[r]=[t].concat(e),i?(this.series.push(t=>i(t,this.desc,...e)),n.info(`added series ${this.series.length} as '${r}'`)):n.error(`unknown plot type ${t}; available types are:\n   '${Object.keys(s.plotFnMap).join("'\n   '")}'`)}render(t){this.renderPlotArea(),this.series.forEach(e=>e(t))}renderPlotArea(){const t=this.desc.margin,e=this.desc.cfg.defaults.Plot.area;this.desc.plotBase.select(".plotRect").attr("x",t.left).attr("y",t.top).attr("width",this.desc.cfg.viewPort.width-t.left-t.right).attr("height",this.desc.cfg.viewPort.height-t.top-t.bottom).attr("rx",e.rx).attr("ry",e.ry).attr("stroke",e.stroke.color).attr("stroke-width",e.stroke.width).attr("stroke-opacity",e.stroke.opacity).attr("fill",e.fill.color).attr("fill-opacity",e.fill.opacity)}}s.plotFnMap={},e.Plot=s},function(t,e,i){"use strict";function n(t,e="#000"){return{width:t,color:e,opacity:1}}function r(t,e=0,i="#fff"){return{rx:0,ry:0,fill:{color:t,opacity:1},stroke:{width:e,color:i,opacity:1}}}Object.defineProperty(e,"__esModule",{value:!0}),e.Defaults=class{constructor(t){this.axes={},this.scales={}}get Graph(){return{canvas:r("#fff",2,"#ccc")}}get Plot(){return{area:r("#fff")}}get Series(){return[]}get Axes(){return{hor:{line:n(2),tickMarks:n(2),tickLabel:{color:"#000",font:{family:"sans-serif",size:20,style:"normal",weight:"normal"}}},ver:{line:n(2),tickMarks:n(2),tickLabel:{color:"#000",font:{family:"sans-serif",size:20,style:"normal",weight:"normal"}}}}}Scales(t){return this.scales[t]=this.scales[t]||{type:"linear",domain:{min:"auto",max:"auto"},range:{min:0,max:100}}}},e.defaultLine=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(0).log("d3.bubble");const n=i(4);e.bubble=(t,e,i,r,o)=>{const s=t.colNumber(i),a=t.colNumber(r),l=t.colNumber(o),c=e.cfg.scales.hor.scale,u=e.cfg.scales.ver.scale,d=e.cfg.defaults.Scales(o),f=n.scaleLinear().domain(t.findDomain(o)).range([d.range.min,d.range.max]),h=e.cfg.baseSVG.selectAll("circle").data(t.getData());h.exit().remove(),h.enter().append("circle"),h.transition().duration(1e3).attr("cx",t=>c(t[s])).attr("cy",t=>u(t[a])).attr("r",t=>f(void 0===l?5:t[l])).attr("fill",(t,e)=>["#f00","#0f0","#00f","#ff0","#f0f","#0ff"][e])}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(0).log("d3.Axis");const n=i(2),r=i(14);var o;!function(t){t.Horizontal="hor",t.Vertical="ver"}(o=e.Direction||(e.Direction={})),e.Axis=class extends n.GraphComponent{constructor(t,e){super(t),this.dir=e,this.svg=t.baseSVG.append("g").classed(`${e}Axis`,!0)}render(t){const e=this.config.scales,i=this.config.defaults.Axes[this.dir];let n;if(this.svg.attr("stroke",i.line.color).attr("stroke-width",i.line.width).attr("stroke-opacity",i.line.opacity),this.dir===o.Horizontal){const t=Math.max(50,Math.min(e.ver.scale(0),this.config.viewPort.height-50));n=r.axisTop(this.config.scales.hor.scale),this.svg.attr("transform",`translate(0, ${t})`)}else{const t=Math.max(50,Math.min(e.hor.scale(0),this.config.viewPort.width-50));n=r.axisRight(this.config.scales.ver.scale),this.svg.attr("transform",`translate(${t}, 0)`)}n.tickSize(10),this.svg.call(n),this.svg.selectAll("text").transition().duration(1e3).attr("style",`font-family:${i.tickLabel.font.family}; font-size:${i.tickLabel.font.size}px; font-style:${i.tickLabel.font.style}; font-weight:${i.tickLabel.font.weight};`)}}},function(t,e,i){"use strict";i.r(e);var n=Array.prototype.slice,r=function(t){return t},o=1,s=2,a=3,l=4,c=1e-6;function u(t){return"translate("+(t+.5)+",0)"}function d(t){return"translate(0,"+(t+.5)+")"}function f(){return!this.__axis}function h(t,e){var i=[],h=null,g=null,p=6,m=6,v=3,y=t===o||t===l?-1:1,b=t===l||t===s?"x":"y",w=t===o||t===a?u:d;function x(n){var u=null==h?e.ticks?e.ticks.apply(e,i):e.domain():h,d=null==g?e.tickFormat?e.tickFormat.apply(e,i):r:g,x=Math.max(p,0)+v,M=e.range(),k=+M[0]+.5,P=+M[M.length-1]+.5,$=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(i){return+t(i)+e}}:function(t){return function(e){return+t(e)}})(e.copy()),S=n.selection?n.selection():n,D=S.selectAll(".domain").data([null]),_=S.selectAll(".tick").data(u,e).order(),C=_.exit(),j=_.enter().append("g").attr("class","tick"),O=_.select("line"),A=_.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(j),O=O.merge(j.append("line").attr("stroke","currentColor").attr(b+"2",y*p)),A=A.merge(j.append("text").attr("fill","currentColor").attr(b,y*x).attr("dy",t===o?"0em":t===a?"0.71em":"0.32em")),n!==S&&(D=D.transition(n),_=_.transition(n),O=O.transition(n),A=A.transition(n),C=C.transition(n).attr("opacity",c).attr("transform",function(t){return isFinite(t=$(t))?w(t):this.getAttribute("transform")}),j.attr("opacity",c).attr("transform",function(t){var e=this.parentNode.__axis;return w(e&&isFinite(e=e(t))?e:$(t))})),C.remove(),D.attr("d",t===l||t==s?m?"M"+y*m+","+k+"H0.5V"+P+"H"+y*m:"M0.5,"+k+"V"+P:m?"M"+k+","+y*m+"V0.5H"+P+"V"+y*m:"M"+k+",0.5H"+P),_.attr("opacity",1).attr("transform",function(t){return w($(t))}),O.attr(b+"2",y*p),A.attr(b,y*x).text(d),S.filter(f).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===s?"start":t===l?"end":"middle"),S.each(function(){this.__axis=$})}return x.scale=function(t){return arguments.length?(e=t,x):e},x.ticks=function(){return i=n.call(arguments),x},x.tickArguments=function(t){return arguments.length?(i=null==t?[]:n.call(t),x):i.slice()},x.tickValues=function(t){return arguments.length?(h=null==t?null:n.call(t),x):h&&h.slice()},x.tickFormat=function(t){return arguments.length?(g=t,x):g},x.tickSize=function(t){return arguments.length?(p=m=+t,x):p},x.tickSizeInner=function(t){return arguments.length?(p=+t,x):p},x.tickSizeOuter=function(t){return arguments.length?(m=+t,x):m},x.tickPadding=function(t){return arguments.length?(v=+t,x):v},x}function g(t){return h(o,t)}function p(t){return h(s,t)}function m(t){return h(a,t)}function v(t){return h(l,t)}i.d(e,"axisTop",function(){return g}),i.d(e,"axisRight",function(){return p}),i.d(e,"axisBottom",function(){return m}),i.d(e,"axisLeft",function(){return v})}]);